

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Setting up a user simulator &mdash; UserSimCRS 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=4ae1632d" />

  
    <link rel="shortcut icon" href="_static/favicon.png"/>
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=d45e8c67"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="autoapi/index.html" />
    <link rel="prev" title="Main Components" href="components.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            UserSimCRS
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="interaction_model.html">Interaction model</a></li>
<li class="toctree-l1"><a class="reference internal" href="components.html">Main Components</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Setting up a user simulator</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#simulator-parameters">Simulator parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration-example">Configuration example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">UserSimCRS</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Setting up a user simulator</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/configuration.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="setting-up-a-user-simulator">
<h1>Setting up a user simulator<a class="headerlink" href="#setting-up-a-user-simulator" title="Link to this heading"></a></h1>
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Link to this heading"></a></h2>
<p>To run the simulation, the following are needed:</p>
<ol class="arabic simple">
<li><p><strong>Domain:</strong> A YAML file with domain-specific slot names that will be used for the preference model.</p></li>
<li><p><strong>Item collection:</strong> A CSV file containing the item collection. This file must contain at least 2 columns labeled <em>ID</em> and <em>NAME</em>.</p></li>
<li><p><strong>Preference data:</strong> A CSV file containing the item ratings in the shape of user ID, item ID, and rating triples.</p></li>
<li><p><strong>Interaction model:</strong> A YAML file containing the users’ and agent’s intent space, as well as the set of expected agent intents for each user intent, is required for the interaction model. The CIR6 interaction model shipped with library offers a baseline starting point, which may be further tailored according to the behavior and capabilities of the CRS.</p></li>
<li><p><strong>Annotated sample dialogues:</strong> A small sample of annotated dialogues with the CRS. The sample size depends on the complexity of the system, in terms of action space and language variety, but is generally in the order of 5-50 dialogues. The sample of dialogues must contain utterance-level annotations in terms of intents and entities, as this is required to train the NLU and NLG components. Note that the slots used for annotation should be the same as the ones defined in the domain file (1) and intents should follow the ones defined in the interaction model (4).</p></li>
</ol>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Link to this heading"></a></h2>
<p>The agenda based simulator has a number of parameters that can be customized.
These can be either provided in a YAML config file and/or via the command line. Note that arguments passed through the command line will override those in the config file.</p>
<section id="simulator-parameters">
<h3>Simulator parameters<a class="headerlink" href="#simulator-parameters" title="Link to this heading"></a></h3>
<blockquote>
<div><ul class="simple">
<li><p><cite>agent_id</cite>: Id of the agent tested.</p></li>
<li><p><cite>output_name</cite>: Specifies the output name for the simulation configuration that will be stored under <cite>data/runs</cite> at the end of the simulation.</p></li>
<li><p><cite>agent_uri</cite>: URI to communicate with the agent. By default we assume that the agent has an HTTP API.</p></li>
<li><p><cite>domain</cite>: A YAML file with domain-specific slot names.</p></li>
<li><p><cite>intents</cite>: Path to the intent schema file.</p></li>
<li><p><cite>items</cite>: Path to items file.</p></li>
<li><p><cite>id_col</cite>: Name of the CSV field containing item id.</p></li>
<li><p><cite>domain_mapping</cite>: CSV field mapping to create item based on domain slots.</p></li>
<li><p><cite>ratings</cite>: Path to ratings file.</p></li>
<li><p><cite>historical_ratings_ratio</cite>: Ratio ([0..1]) of ratings to be used as historical data.</p></li>
<li><p><cite>dialogues</cite>: Path to domain config file.</p></li>
<li><p><cite>intent_classifier</cite>: Intent classifier model to be used. Only supports DialogueKit intent classifiers.</p></li>
<li><p><cite>rasa_dialogues</cite>: File with Rasa annotated dialogues. Only needed when using a DIET intent classifier.</p></li>
<li><p><cite>debug</cite>: Flag (boolean) to activate debug mode.</p></li>
</ul>
</div></blockquote>
</section>
<section id="configuration-example">
<h3>Configuration example<a class="headerlink" href="#configuration-example" title="Link to this heading"></a></h3>
<p>Below is the default configuration to run simulation with the IAI MovieBot as the conversational agent.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">agent_id</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;IAI</span><span class="nv"> </span><span class="s">MovieBot&quot;</span>
<span class="nt">output_name</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;moviebot&quot;</span>
<span class="c1"># By default, the agent has an HTTP API.</span>
<span class="nt">agent_uri</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;http://127.0.0.1:5001&quot;</span>

<span class="nt">domain</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data/domains/movies.yaml</span>
<span class="nt">intents</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data/interaction_models/crs_v1.yaml</span>

<span class="nt">items</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data/movielens-25m-sample/movies_w_keywords.csv</span>
<span class="nt">id_col</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">movieId</span>
<span class="nt">domain_mapping</span><span class="p">:</span>
<span class="w">  </span><span class="nt">title</span><span class="p">:</span>
<span class="w">    </span><span class="nt">slot</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">TITLE</span>
<span class="w">  </span><span class="nt">genres</span><span class="p">:</span>
<span class="w">    </span><span class="nt">slot</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GENRE</span>
<span class="w">    </span><span class="nt">multi-valued</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="w">    </span><span class="nt">delimiter</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;|&quot;</span>
<span class="w">  </span><span class="nt">keywords</span><span class="p">:</span>
<span class="w">    </span><span class="nt">slot</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">KEYWORD</span>
<span class="w">    </span><span class="nt">multi-valued</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span>
<span class="w">    </span><span class="nt">delimiter</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;|&quot;</span>
<span class="nt">ratings</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data/movielens-25m-sample/ratings.csv</span>
<span class="nt">historical_ratings_ratio</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0.8</span>

<span class="nt">dialogues</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">data/agents/moviebot/annotated_dialogues.json</span>
<span class="nt">intent_classifier</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;cosine&quot;</span>
<span class="c1"># If using the DIET classifier the following file needs to be provided.</span>
<span class="c1"># rasa_dialogues: data/agents/moviebot/annotated_dialogues_rasa_agent.yml</span>

<span class="nt">debug</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">False</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="components.html" class="btn btn-neutral float-left" title="Main Components" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="autoapi/index.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, IAI group, University of Stavanger.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>